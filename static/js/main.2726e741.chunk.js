(this["webpackJsonpreact-snake"]=this["webpackJsonpreact-snake"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(0),a=n.n(c),u=n(7),o=n.n(u),i=n(9),s=n(8),f=n(2);var l=[{x:8,y:7},{x:8,y:8}],j={x:0,y:-1},v={x:8,y:3},b=20,O={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},x=n(4),y=n.n(x),d=function(e){var t=e.cellSize,n=e.fieldLength,a=Object(c.useRef)(null),u=Object(c.useState)(j),o=Object(f.a)(u,2),x=o[0],d=o[1],h=Object(c.useState)(l),g=Object(f.a)(h,2),m=g[0],S=g[1],p=Object(c.useState)(v),_=Object(f.a)(p,2),w=_[0],k=_[1],D=Object(c.useState)(null),F=Object(f.a)(D,2),A=F[0],M=F[1],R=Object(c.useState)(0),T=Object(f.a)(R,2),C=T[0],B=T[1],E=Object(c.useState)(!1),G=Object(f.a)(E,2),L=G[0],I=G[1],N=Object(c.useState)(1),W=Object(f.a)(N,2),z=W[0],J=W[1],K=Object(c.useState)(!1),P=Object(f.a)(K,2),U=P[0],Y=P[1],V=function(){return a&&a.current?a.current.getContext("2d"):null},q=function(){return a&&a.current?a.current.getBoundingClientRect().width:0},H=function(e,t,n){var r=V();r&&(r.fillStyle=n,r.fillRect(e,t,1,1))},Q=function(){return{x:Math.floor(Math.random()*q()/b),y:Math.floor(Math.random()*q()/b)}},X=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,r=Object(s.a)(n);try{for(r.s();!(t=r.n()).done;){var c=t.value;if(e.x===c.x&&e.y===c.y)return!0}}catch(a){r.e(a)}finally{r.f()}return e.x*b>=q()||e.x<0||e.y*b>=q()||e.y<0},Z=function(){var e=Object(i.a)(m),t={x:e[0].x+x.x,y:e[0].y+x.y};e.unshift(t),X(t)&&(M(null),Y(!0)),function(e){if(e[0].x===w.x&&e[0].y===w.y){for(var t=Q();X(t,e);)t=Q();return k(t),B((function(e){return e+1})),C>0&&C%3===0&&A&&A>30&&(J((function(e){return e+1})),M((function(e){return e&&e-30}))),!0}return!1}(e)||e.pop(),S(e)};return Object(c.useEffect)((function(){a&&a.current&&(a.current.width=t*n,a.current.height=t*n)}),[]),Object(c.useEffect)((function(){V()&&(!function(){var e=V();if(e){e.setTransform(b,0,0,b,0,0);var t=q();e.clearRect(0,0,t,t),e.fillStyle="#DDDDDD",e.strokeStyle="#FFFFFF",e.fillRect(0,0,t,t),e.lineWidth=.05;for(var n=1;n<t;n+=1)e.moveTo(n,0),e.lineTo(n,t);for(var r=0;r<t;r+=1)e.moveTo(0,r),e.lineTo(t,r);e.stroke()}}(),m.forEach((function(e){var t=e.x,n=e.y;return H(t,n,"green")})),H(w.x,w.y,"red"))}),[m,w]),function(e,t){var n=Object(c.useRef)();Object(c.useEffect)((function(){n.current=e}),[e]),Object(c.useEffect)((function(){if(null!==t){var e=setInterval((function(){"undefined"!==typeof(null===n||void 0===n?void 0:n.current)&&n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){return Z()}),A),Object(r.jsxs)("div",{className:y.a.root,children:[Object(r.jsxs)("div",{className:y.a.canvasWrapper,children:[Object(r.jsx)("canvas",{className:y.a.canvas,tabIndex:0,ref:a,onKeyDown:function(e){var t,n=e.key;"ArrowUp"!==n&&"ArrowDown"!==n&&"ArrowRight"!==n&&"ArrowLeft"!==n||(t=n,x.x+O[t].x&&x.y+O[t].y&&d(O[t]))}}),(!L||U)&&Object(r.jsx)("button",{className:y.a.startBtn,onClick:function(){a&&a.current&&a.current.focus(),I(!0),Y(!1),S(l),k(v),d(j),M(270)},children:U?"Try again":"Start Game"}),U&&Object(r.jsx)("p",{className:y.a.gameOverMsg,children:"You have failed this snake"})]}),Object(r.jsxs)("p",{children:["Your score: ",C]}),Object(r.jsxs)("p",{children:["Current level: ",z]})]})},h=function(){return Object(r.jsx)(d,{cellSize:20,fieldLength:30})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,u=t.getTTFB;n(e),r(e),c(e),a(e),u(e)}))};n(15);o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(h,{})}),document.getElementById("root")),g()},4:function(e,t,n){e.exports={root:"SnakeGame_root__3yvKs",canvasWrapper:"SnakeGame_canvasWrapper__2V9rr",canvas:"SnakeGame_canvas__2s_Sz",startBtn:"SnakeGame_startBtn__97pxl",gameOverMsg:"SnakeGame_gameOverMsg__34sm6"}}},[[16,1,2]]]);
//# sourceMappingURL=main.2726e741.chunk.js.map